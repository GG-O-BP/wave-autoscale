language: 'typescript'
type: 'application'
owners:
  defaultOwner: '@wave-autoscale-team'
  
tasks:
  # Override the lint, audit task to use the next.js lint command
  lint:
    command: 'next lint'
    inputs:
      - '@globs(sources)'
  audit:
    command: 'npm audit'
    inputs:
      - '@globs(sources)'
  test:
    # TODO: Add test command
    command: 'echo wep-app'
    inputs:
      - '@globs(sources)'
  run:
    command: 'next dev --turbo'
    inputs:
      - '@globs(sources)'
      - 'tsconfig.json'
  build:
    command: 'next build'
    inputs:
      - '@globs(sources)'
      - 'tsconfig.json'
      - 'next.config.js'
    outputs:
      - '.next/standalone/*'
  start-standalone:
    command: 'node .next/standalone/server.js'
    inputs:
      - '@globs(sources)'
      - 'tsconfig.json'
